{"version":3,"file":"parallax","sources":["../../../src/js/components/parallax.js"],"sourcesContent":["function plugin(UIkit) {\n\n    if (plugin.installed) {\n        return;\n    }\n\n    var {mixin, util} = UIkit;\n    var {clamp, css, Dimensions, each, getImage, includes, isNumber, isUndefined, scrolledOver, toFloat, query, win} = util;\n\n    var props = ['x', 'y', 'bgx', 'bgy', 'rotate', 'scale', 'color', 'backgroundColor', 'borderColor', 'opacity', 'blur', 'hue', 'grayscale', 'invert', 'saturate', 'sepia', 'fopacity'];\n\n    mixin.parallax = {\n\n        props: props.reduce((props, prop) => {\n            props[prop] = 'list';\n            return props;\n        }, {\n            media: 'media'\n        }),\n\n        defaults: props.reduce((defaults, prop) => {\n            defaults[prop] = undefined;\n            return defaults;\n        }, {\n            media: false\n        }),\n\n        computed: {\n\n            props(properties, $el) {\n\n                return props.reduce((props, prop) => {\n\n                    if (isUndefined(properties[prop])) {\n                        return props;\n                    }\n\n                    var isColor = prop.match(/color/i),\n                        isCssProp = isColor || prop === 'opacity',\n                        steps = properties[prop].slice(0),\n                        pos, bgPos, diff;\n\n                    if (isCssProp) {\n                        css($el, prop, '');\n                    }\n\n                    if (steps.length < 2) {\n                        steps.unshift((prop === 'scale'\n                            ? 1\n                            : isCssProp\n                                ? css($el, prop)\n                                : 0) || 0);\n                    }\n\n                    var unit = includes(steps.join(''), '%') ? '%' : 'px';\n\n                    if (isColor) {\n\n                        var color = $el.style.color;\n                        steps = steps.map(step => parseColor($el, step));\n                        $el.style.color = color;\n\n                    } else {\n\n                        steps = steps.map(toFloat);\n\n                    }\n\n                    if (prop.match(/^bg/)) {\n\n                        css($el, `background-position-${prop[2]}`, '');\n                        bgPos = css($el, 'backgroundPosition').split(' ')[prop[2] === 'x' ? 0 : 1]; // IE 11 can't read background-position-[x|y]\n\n                        if (this.covers) {\n\n                            var min = Math.min(...steps),\n                                max = Math.max(...steps),\n                                down = steps.indexOf(min) < steps.indexOf(max);\n\n                            diff = max - min;\n\n                            steps = steps.map(step => step - (down ? min : max));\n                            pos = `${down ? -diff : 0}px`;\n\n                        } else {\n\n                            pos = bgPos;\n\n                        }\n                    }\n\n                    props[prop] = {steps, unit, pos, bgPos, diff};\n\n                    return props;\n\n                }, {});\n\n            },\n\n            bgProps() {\n                return ['bgx', 'bgy'].filter(bg => bg in this.props);\n            },\n\n            covers(_, $el) {\n                return css($el.style.backgroundSize !== '' ? css($el, 'backgroundSize', '') : $el, 'backgroundSize') === 'cover';\n            }\n\n        },\n\n        disconnected() {\n            delete this._image;\n        },\n\n        update: [\n\n            {\n\n                read(data) {\n\n                    this._resetComputeds();\n\n                    data.active = !this.media || win.matchMedia(this.media).matches;\n\n                    if (data.image) {\n                        data.image.dimEl = {\n                            width: this.$el.offsetWidth,\n                            height: this.$el.offsetHeight\n                        };\n                    }\n\n                    if ('image' in data || !this.covers || !this.bgProps.length) {\n                        return;\n                    }\n\n                    var src = css(this.$el, 'backgroundImage').replace(/^none|url\\([\"']?(.+?)[\"']?\\)$/, '$1');\n\n                    if (!src) {\n                        return;\n                    }\n\n                    data.image = false;\n\n                    getImage(src).then(img => {\n                        data.image = {\n                            width: img.naturalWidth,\n                            height: img.naturalHeight\n                        };\n\n                        this.$emit();\n                    });\n\n                },\n\n                write({image, active}) {\n\n                    if (!image) {\n                        return;\n                    }\n\n                    if (!active) {\n                        css(this.$el, {backgroundSize: '', backgroundRepeat: ''});\n                        return;\n                    }\n\n                    var dimEl = image.dimEl,\n                        dim = Dimensions.cover(image, dimEl);\n\n                    this.bgProps.forEach(prop => {\n\n                        var {diff, bgPos, steps} = this.props[prop],\n                            attr = prop === 'bgy' ? 'height' : 'width',\n                            span = dim[attr] - dimEl[attr];\n\n                        if (!bgPos.match(/%$|0px/)) {\n                            return;\n                        }\n\n                        if (span < diff) {\n                            dimEl[attr] = dim[attr] + diff - span;\n                        } else if (span > diff) {\n\n                            bgPos = parseFloat(bgPos);\n\n                            if (bgPos) {\n                                this.props[prop].steps = steps.map(step => step - (span - diff) / (100 / bgPos));\n                            }\n                        }\n\n                        dim = Dimensions.cover(image, dimEl);\n                    });\n\n                    css(this.$el, {\n                        backgroundSize: `${dim.width}px ${dim.height}px`,\n                        backgroundRepeat: 'no-repeat'\n                    });\n\n                },\n\n                events: ['load', 'resize']\n\n            }\n\n        ],\n\n        methods: {\n\n            reset() {\n                each(this.getCss(0), (_, prop) => css(this.$el, prop, ''));\n            },\n\n            getCss(percent) {\n\n                var translated = false,\n                    props = this.props;\n\n                return Object.keys(props).reduce((css, prop) => {\n\n                    var {steps, unit, pos} = props[prop],\n                        value = getValue(steps, percent);\n\n                    switch (prop) {\n\n                        // transforms\n                        case 'x':\n                        case 'y':\n\n                            if (translated) {\n                                break;\n                            }\n\n                            var [x, y] = ['x', 'y'].map(dir => prop === dir\n                                ? value + unit\n                                : props[dir]\n                                    ? getValue(props[dir].steps, percent) + props[dir].unit\n                                    : 0\n                            );\n\n                            translated = css.transform += ` translate3d(${x}, ${y}, 0)`;\n                            break;\n                        case 'rotate':\n                            css.transform += ` rotate(${value}deg)`;\n                            break;\n                        case 'scale':\n                            css.transform += ` scale(${value})`;\n                            break;\n\n                        // bg image\n                        case 'bgy':\n                        case 'bgx':\n                            css[`background-position-${prop[2]}`] = `calc(${pos} + ${value + unit})`;\n                            break;\n\n                        // color\n                        case 'color':\n                        case 'backgroundColor':\n                        case 'borderColor':\n\n                            var [start, end, p] = getStep(steps, percent);\n\n                            css[prop] = `rgba(${\n                                start.map((value, i) => {\n                                    value = value + p * (end[i] - value);\n                                    return i === 3 ? toFloat(value) : parseInt(value, 10);\n                                }).join(',')\n                            })`;\n                            break;\n\n                        // CSS Filter\n                        case 'blur':\n                            css.filter += ` blur(${value}px)`;\n                            break;\n                        case 'hue':\n                            css.filter += ` hue-rotate(${value}deg)`;\n                            break;\n                        case 'fopacity':\n                            css.filter += ` opacity(${value}%)`;\n                            break;\n                        case 'grayscale':\n                        case 'invert':\n                        case 'saturate':\n                        case 'sepia':\n                            css.filter += ` ${prop}(${value}%)`;\n                            break;\n\n                        default:\n                            css[prop] = value;\n                    }\n\n                    return css;\n\n                }, {transform: '', filter: ''});\n\n            }\n\n        }\n\n    };\n\n    UIkit.component('parallax', {\n\n        mixins: [mixin.parallax],\n\n        props: {\n            target: String,\n            viewport: Number,\n            easing: Number,\n        },\n\n        defaults: {\n            target: false,\n            viewport: 1,\n            easing: 1,\n        },\n\n        computed: {\n\n            target({target}, $el) {\n                return target && query(target, $el) || $el;\n            }\n\n        },\n\n        update: [\n\n            {\n\n                read({percent}) {\n                    return {\n                        prev: percent,\n                        percent: ease(scrolledOver(this.target) / (this.viewport || 1), this.easing)\n                    };\n                },\n\n                write({prev, percent, active}, {type}) {\n\n                    if (type !== 'scroll') {\n                        prev = false;\n                    }\n\n                    if (!active) {\n                        this.reset();\n                        return;\n                    }\n\n                    if (prev !== percent) {\n                        css(this.$el, this.getCss(percent));\n                    }\n\n                },\n\n                events: ['scroll', 'load', 'resize']\n            }\n\n        ]\n\n    });\n\n    function ease(percent, easing) {\n        return clamp(percent * (1 - (easing - easing * percent)));\n    }\n\n    function parseColor(el, color) {\n        return css(css(el, 'color', color), 'color').split(/[(),]/g).slice(1, -1).concat(1).slice(0, 4).map(n => toFloat(n));\n    }\n\n    function getStep(steps, percent) {\n        var count = steps.length - 1,\n            index = Math.min(Math.floor(count * percent), count - 1),\n            step = steps.slice(index, index + 2);\n\n        step.push(percent === 1 ? 1 : percent % (1 / count) * count);\n\n        return step;\n    }\n\n    function getValue(steps, percent) {\n        var [start, end, p] = getStep(steps, percent);\n        return (isNumber(start)\n            ? start + Math.abs(start - end) * p * (start < end ? 1 : -1)\n            : +end\n        ).toFixed(2);\n    }\n\n}\n\nif (!BUNDLED && typeof window !== 'undefined' && window.UIkit) {\n    window.UIkit.use(plugin);\n}\n\nexport default plugin;\n"],"names":["this"],"mappings":"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"}