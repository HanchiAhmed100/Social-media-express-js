/*! UIkit 3.0.0-beta.42 | http://www.getuikit.com | (c) 2014 - 2017 YOOtheme | MIT License */

!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define("uikitslideshow",e):t.UIkitSlideshow=e()}(this,function(){"use strict";function t(t,e){return void 0===t&&(t=0),void 0===e&&(e="%"),"translateX("+t+(t?e:"")+")"}function e(t){return"scale3d("+t+", "+t+", 1)"}function i(t){if(!i.installed){var e=t.util,n=e.$,s=e.assign,r=e.clamp,a=e.fastdom,o=e.getIndex,h=e.hasClass,u=e.isNumber,c=e.isRtl,d=e.Promise,l=e.toNodes,f=e.trigger;t.mixin.slider={attrs:!0,mixins:[function(t){var e=t.util.pointerDown;return{props:{autoplay:Boolean,autoplayInterval:Number,pauseOnHover:Boolean},defaults:{autoplay:!1,autoplayInterval:7e3,pauseOnHover:!0},connected:function(){this.startAutoplay()},disconnected:function(){this.stopAutoplay()},events:[{name:"visibilitychange",el:document,handler:function(){document.hidden?this.stopAutoplay():this.startAutoplay()}},{name:e,handler:"stopAutoplay"},{name:"mouseenter",filter:function(){return this.autoplay},handler:function(){this.isHovering=!0}},{name:"mouseleave",filter:function(){return this.autoplay},handler:function(){this.isHovering=!1}}],methods:{startAutoplay:function(){var t=this;this.stopAutoplay(),this.autoplay&&(this.interval=setInterval(function(){return!(t.isHovering&&t.pauseOnHover)&&!t.stack.length&&t.show("next")},this.autoplayInterval))},stopAutoplay:function(){this.interval&&clearInterval(this.interval)}}}}(t),function(t){var e=t.util,i=e.getPos,n=e.includes,s=e.isRtl,r=e.isTouch,a=e.off,o=e.on,h=e.pointerDown,u=e.pointerMove,c=e.pointerUp,d=e.preventClick,l=e.trigger;return{defaults:{threshold:10,preventCatch:!1},init:function(){var t=this;["start","move","end"].forEach(function(e){var n=t[e];t[e]=function(e){var r=i(e).x*(s?-1:1);t.prevPos=r!==t.pos?t.pos:t.prevPos,t.pos=r,n(e)}})},events:[{name:h,delegate:function(){return this.slidesSelector},handler:function(t){if(!(!r(t)&&(e=t.target,!e.children.length&&e.childNodes.length)||t.button>0||this.length<2||this.preventCatch)){var e;this.start(t)}}},{name:"dragstart",handler:function(t){t.preventDefault()}}],methods:{start:function(){this.drag=this.pos,this._transitioner?(this.percent=this._transitioner.percent(),this.drag+=this._transitioner.getDistance()*this.percent*this.dir,this._transitioner.translate(this.percent),this._transitioner.cancel(),this.dragging=!0,this.stack=[]):this.prevIndex=this.index,this.unbindMove=o(document,u,this.move,{capture:!0,passive:!1}),o(window,"scroll",this.unbindMove),o(document,c,this.end,!0)},move:function(t){var e=this,i=this.pos-this.drag;if(!(0===i||this.prevPos===this.pos||!this.dragging&&Math.abs(i)<this.threshold)){t.cancelable&&t.preventDefault(),this.dragging=!0,this.dir=i<0?1:-1;for(var s=this.slides,r=this.prevIndex,a=Math.abs(i),o=this.getIndex(r+this.dir,r),h=this._getDistance(r,o)||s[r].offsetWidth;o!==r&&a>h;)e.drag-=h*e.dir,r=o,a-=h,o=e.getIndex(r+e.dir,r),h=e._getDistance(r,o)||s[r].offsetWidth;this.percent=a/h;var u,c=s[r],d=s[o],f=this.index!==o,p=r===o;[this.index,this.prevIndex].filter(function(t){return!n([o,r],t)}).forEach(function(t){l(s[t],"itemhidden",[e]),p&&(u=!0,e.prevIndex=r)}),(this.index===r&&this.prevIndex!==r||u)&&l(s[this.index],"itemshown",[this]),f&&(this.prevIndex=r,this.index=o,!p&&l(c,"beforeitemhide",[this]),l(d,"beforeitemshow",[this])),this._transitioner=this._translate(Math.abs(this.percent),c,!p&&d),f&&(!p&&l(c,"itemhide",[this]),l(d,"itemshow",[this]))}},end:function(){if(a(window,"scroll",this.unbindMove),this.unbindMove(),a(document,c,this.end,!0),this.dragging){if(this.dragging=null,this.index===this.prevIndex)this.percent=1-this.percent,this.dir*=-1,this._show(!1,this.index,!0),this._transitioner=null;else{var t=(s?this.dir*(s?1:-1):this.dir)<0==this.prevPos>this.pos;this.index=t?this.index:this.prevIndex,t&&(this.percent=1-this.percent),this.show(this.dir>0&&!t||this.dir<0&&t?"next":"previous",!0)}d()}this.drag=this.percent=null}}}}(t),function(t){var e=t.util,i=e.$,n=e.$$,s=e.data,r=e.html,a=e.toggleClass,o=e.toNumber;return{defaults:{selNav:!1},computed:{nav:function(t,e){var n=t.selNav;return i(n,e)},navItemSelector:function(t){var e=t.attrItem;return"["+e+"],[data-"+e+"]"},navItems:function(t,e){return n(this.navItemSelector,e)}},update:[{write:function(){var t=this;this.nav&&this.length!==this.nav.children.length&&r(this.nav,this.slides.map(function(e,i){return"<li "+t.attrItem+'="'+i+'"><a href="#"></a></li>'}).join("")),a(n(this.navItemSelector,this.$el).concat(this.nav),"uk-hidden",!this.maxIndex),this.updateNav()},events:["load","resize"]}],events:[{name:"click",delegate:function(){return this.navItemSelector},handler:function(t){t.preventDefault(),t.current.blur(),this.show(s(t.current,this.attrItem))}},{name:"itemshow",handler:"updateNav"}],methods:{updateNav:function(){var t=this,e=this.getValidIndex();this.navItems.forEach(function(i){var n=s(i,t.attrItem);a(i,t.clsActive,o(n)===e),a(i,"uk-invisible",t.finite&&("previous"===n&&0===e||"next"===n&&e>=t.maxIndex))})}}}}(t)],props:{clsActivated:Boolean,easing:String,index:Number,finite:Boolean,velocity:Number},defaults:{easing:"ease",finite:!1,velocity:1,index:0,stack:[],percent:0,clsActive:"uk-active",clsActivated:!1,Transitioner:!1,transitionOptions:{}},computed:{duration:function(t,e){var i=t.velocity;return.5*(e.offsetWidth/i)+300},length:function(){return this.slides.length},list:function(t,e){var i=t.selList;return n(i,e)},maxIndex:function(){return this.length-1},slidesSelector:function(t){return t.selList+" > *"},slides:function(){return l(this.list.children)}},methods:{show:function(t,e){var i=this;if(void 0===e&&(e=!1),!this.dragging&&this.length){var n=this.stack,s=e?0:n.length,r=function(){n.splice(s,1),n.length&&i.show(n.shift(),!0)};if(n[e?"unshift":"push"](t),!e&&n.length>1)2===n.length&&this._transitioner.forward(Math.min(this.duration,200));else{var o=this.index,u=h(this.slides,this.clsActive)&&this.slides[o],c=this.getIndex(t,this.index),l=this.slides[c];if(u!==l){this.dir=(p=t,m=o,"next"===p?1:"previous"===p?-1:p<m?-1:1);var p,m;if(this.prevIndex=o,this.index=c,u&&f(u,"beforeitemhide",[this]),!f(l,"beforeitemshow",[this,u]))return this.index=this.prevIndex,void r();var v=this._show(u,l,e).then(function(){return u&&f(u,"itemhidden",[i]),f(l,"itemshown",[i]),new d(function(t){a.write(function(){n.shift(),n.length?i.show(n.shift(),!0):i._transitioner=null,t()})})});return u&&f(u,"itemhide",[this]),f(l,"itemshow",[this]),v}r()}}},getIndex:function(t,e){return void 0===t&&(t=this.index),void 0===e&&(e=this.index),r(o(t,this.slides,e,this.finite),0,this.maxIndex)},getValidIndex:function(t,e){return void 0===t&&(t=this.index),void 0===e&&(e=this.prevIndex),this.getIndex(t,e)},_show:function(t,e,i){if(this._transitioner=this._getTransitioner(t,e,this.dir,s({easing:i?e.offsetWidth<600?"cubic-bezier(0.25, 0.46, 0.45, 0.94)":"cubic-bezier(0.165, 0.84, 0.44, 1)":this.easing},this.transitionOptions)),!i&&!t)return this._transitioner.translate(1),d.resolve();var n=this.stack.length;return this._transitioner[n>1?"forward":"show"](n>1?Math.min(this.duration,75+75/(n-1)):this.duration,this.percent)},_getDistance:function(t,e){return new this._getTransitioner(t,t!==e&&e).getDistance()},_translate:function(t,e,i){void 0===e&&(e=this.prevIndex),void 0===i&&(i=this.index);var n=this._getTransitioner(e!==i&&e,i);return n.translate(t),n},_getTransitioner:function(t,e,i,n){return void 0===t&&(t=this.prevIndex),void 0===e&&(e=this.index),void 0===i&&(i=this.dir||1),void 0===n&&(n=this.transitionOptions),new this.Transitioner(u(t)?this.slides[t]:t,u(e)?this.slides[e]:e,i*(c?-1:1),n)}}}}}function n(e){if(!n.installed){e.use(i);var s=e.mixin,r=e.util,a=r.addClass,o=r.assign,h=r.fastdom,u=r.isNumber,c=r.removeClass,d=function(e){var i=e.util.css,n={slide:{show:function(e){return[{transform:t(-100*e)},{transform:t()}]},percent:function(t){return n.translated(t)},translate:function(e,i){return[{transform:t(-100*i*e)},{transform:t(100*i*(1-e))}]}},translated:function(t){return Math.abs(i(t,"transform").split(",")[4]/t.offsetWidth)||0}};return n}(e),l=function(t){var e=t.util,i=e.createEvent,n=e.clamp,s=e.css,r=e.Deferred,a=e.noop,o=e.Promise,h=e.Transition,u=e.trigger;function c(t,e,n){u(t,i(e,!1,!1,n))}return function(t,e,i,u){var d=u.animation,l=u.easing,f=d.percent,p=d.translate,m=d.show;void 0===m&&(m=a);var v=m(i),g=new r;return{dir:i,show:function(s,r,u){var d=this;void 0===r&&(r=0);var f=u?"linear":l;return s-=Math.round(s*n(r,-1,1)),this.translate(r),c(e,"itemin",{percent:r,duration:s,timing:f,dir:i}),c(t,"itemout",{percent:1-r,duration:s,timing:f,dir:i}),o.all([h.start(e,v[1],s,f),h.start(t,v[0],s,f)]).then(function(){d.reset(),g.resolve()},a),g.promise},stop:function(){return h.stop([e,t])},cancel:function(){h.cancel([e,t])},reset:function(){for(var i in v[0])s([e,t],i,"")},forward:function(i,n){return void 0===n&&(n=this.percent()),h.cancel([e,t]),this.show(i,n,!0)},translate:function(n){this.reset();var r=p(n,i);s(e,r[1]),s(t,r[0]),c(e,"itemtranslatein",{percent:n,dir:i}),c(t,"itemtranslateout",{percent:1-n,dir:i})},percent:function(){return f(t||e,e,i)},getDistance:function(){return t.offsetWidth}}}}(e);e.mixin.slideshow={mixins:[s.slider],props:{animation:String},defaults:{animation:"slide",clsActivated:"uk-transition-active",Animations:d,Transitioner:l},computed:{animation:function(t){var e=t.animation,i=t.Animations;return o(e in i?i[e]:i.slide,{name:e})},transitionOptions:function(){return{animation:this.animation}}},events:{"itemshow itemhide itemshown itemhidden":function(t){var i=t.target;e.update(i)},itemshow:function(){u(this.prevIndex)&&h.flush()},beforeitemshow:function(t){var e=t.target;a(e,this.clsActive)},itemshown:function(t){var e=t.target;a(e,this.clsActivated)},itemhidden:function(t){var e=t.target;c(e,this.clsActive,this.clsActivated)}}}}}function s(t){if(!s.installed){var e=t.mixin,i=t.util,n=i.css,r=i.Dimensions,a=i.each,o=i.getImage,h=i.includes,u=i.isNumber,c=i.isUndefined,d=i.toFloat,l=["x","y","bgx","bgy","rotate","scale","color","backgroundColor","borderColor","opacity","blur","hue","grayscale","invert","saturate","sepia","fopacity"];e.parallax={props:l.reduce(function(t,e){return t[e]="list",t},{media:"media"}),defaults:l.reduce(function(t,e){return t[e]=void 0,t},{media:!1}),computed:{props:function(t,e){var i=this;return l.reduce(function(s,r){if(c(t[r]))return s;var a,o,u,l=r.match(/color/i),f=l||"opacity"===r,p=t[r].slice(0);f&&n(e,r,""),p.length<2&&p.unshift(("scale"===r?1:f?n(e,r):0)||0);var m=h(p.join(""),"%")?"%":"px";if(l){var v=e.style.color;p=p.map(function(t){return n(n(e,"color",t),"color").split(/[(),]/g).slice(1,-1).concat(1).slice(0,4).map(function(t){return d(t)})}),e.style.color=v}else p=p.map(d);if(r.match(/^bg/))if(n(e,"background-position-"+r[2],""),o=n(e,"backgroundPosition").split(" ")["x"===r[2]?0:1],i.covers){var g=Math.min.apply(Math,p),x=Math.max.apply(Math,p),w=p.indexOf(g)<p.indexOf(x);u=x-g,p=p.map(function(t){return t-(w?g:x)}),a=(w?-u:0)+"px"}else a=o;return s[r]={steps:p,unit:m,pos:a,bgPos:o,diff:u},s},{})},bgProps:function(){var t=this;return["bgx","bgy"].filter(function(e){return e in t.props})},covers:function(t,e){return function(t){var e=t.style.backgroundSize,i="cover"===n(n(t,"backgroundSize",""),"backgroundSize");return t.style.backgroundSize=e,i}(e)}},disconnected:function(){delete this._image},update:[{read:function(t){var e=this;if(t.active=!this.media||window.matchMedia(this.media).matches,t.image&&(t.image.dimEl={width:this.$el.offsetWidth,height:this.$el.offsetHeight}),!("image"in t)&&this.covers&&this.bgProps.length){var i=n(this.$el,"backgroundImage").replace(/^none|url\(["']?(.+?)["']?\)$/,"$1");i&&(t.image=!1,o(i).then(function(i){t.image={width:i.naturalWidth,height:i.naturalHeight},e.$emit()}))}},write:function(t){var e=this,i=t.image,s=t.active;if(i)if(s){var a=i.dimEl,o=r.cover(i,a);this.bgProps.forEach(function(t){var n=e.props[t],s=n.diff,h=n.bgPos,u=n.steps,c="bgy"===t?"height":"width",d=o[c]-a[c];if(h.match(/%$|0px/)){if(d<s)a[c]=o[c]+s-d;else if(d>s){var l=parseFloat(h);l&&(e.props[t].steps=u.map(function(t){return t-(d-s)/(100/l)}))}o=r.cover(i,a)}}),n(this.$el,{backgroundSize:o.width+"px "+o.height+"px",backgroundRepeat:"no-repeat"})}else n(this.$el,{backgroundSize:"",backgroundRepeat:""})},events:["load","resize"]}],methods:{reset:function(){var t=this;a(this.getCss(0),function(e,i){return n(t.$el,i,"")})},getCss:function(t){var e=this.props,i=!1;return Object.keys(e).reduce(function(n,s){var r=e[s],a=r.steps,o=r.unit,h=r.pos,u=p(a,t);switch(s){case"x":case"y":if(i)break;var c=["x","y"].map(function(i){return s===i?u+o:e[i]?p(e[i].steps,t)+e[i].unit:0}),l=c[0],m=c[1];i=n.transform+=" translate3d("+l+", "+m+", 0)";break;case"rotate":n.transform+=" rotate("+u+"deg)";break;case"scale":n.transform+=" scale("+u+")";break;case"bgy":case"bgx":n["background-position-"+s[2]]="calc("+h+" + "+(u+o)+")";break;case"color":case"backgroundColor":case"borderColor":var v=f(a,t),g=v[0],x=v[1],w=v[2];n[s]="rgba("+g.map(function(t,e){return t+=w*(x[e]-t),3===e?d(t):parseInt(t,10)}).join(",")+")";break;case"blur":n.filter+=" blur("+u+"px)";break;case"hue":n.filter+=" hue-rotate("+u+"deg)";break;case"fopacity":n.filter+=" opacity("+u+"%)";break;case"grayscale":case"invert":case"saturate":case"sepia":n.filter+=" "+s+"("+u+"%)";break;default:n[s]=u}return n},{transform:"",filter:""})}}}}function f(t,e){var i=t.length-1,n=Math.min(Math.floor(i*e),i-1),s=t.slice(n,n+2);return s.push(1===e?1:e%(1/i)*i),s}function p(t,e){var i=f(t,e),n=i[0],s=i[1],r=i[2];return(u(n)?n+Math.abs(n-s)*r*(n<s?1:-1):+s).toFixed(2)}}"undefined"!=typeof window&&window.UIkit&&window.UIkit.use(s);function r(i){if(!r.installed){i.use(n);var a=i.mixin,o=i.util.height,h=function(i){var n=i.mixin,s=i.util,r=s.assign,a=s.css,o=r({},n.slideshow.defaults.Animations,{fade:{show:function(){return[{opacity:0,zIndex:0},{zIndex:-1}]},percent:function(t){return 1-a(t,"opacity")},translate:function(t){return[{opacity:1-t,zIndex:0},{zIndex:-1}]}},scale:{show:function(){return[{opacity:0,transform:e(1.5),zIndex:0},{zIndex:-1}]},percent:function(t){return 1-a(t,"opacity")},translate:function(t){return[{opacity:1-t,transform:e(1+.5*t),zIndex:0},{zIndex:-1}]}},pull:{show:function(e){return e<0?[{transform:t(30),zIndex:-1},{transform:t(),zIndex:0}]:[{transform:t(-100),zIndex:0},{transform:t(),zIndex:-1}]},percent:function(t,e,i){return i<0?1-o.translated(e):o.translated(t)},translate:function(e,i){return i<0?[{transform:t(30*e),zIndex:-1},{transform:t(-100*(1-e)),zIndex:0}]:[{transform:t(100*-e),zIndex:0},{transform:t(30*(1-e)),zIndex:-1}]}},push:{show:function(e){return e<0?[{transform:t(100),zIndex:0},{transform:t(),zIndex:-1}]:[{transform:t(-30),zIndex:-1},{transform:t(),zIndex:0}]},percent:function(t,e,i){return i>0?1-o.translated(e):o.translated(t)},translate:function(e,i){return i<0?[{transform:t(100*e),zIndex:0},{transform:t(-30*(1-e)),zIndex:-1}]:[{transform:t(-30*e),zIndex:-1},{transform:t(100*(1-e)),zIndex:0}]}}});return o}(i);i.component("slideshow-parallax",function(t,e){t.use(s);var i=t.mixin,n=t.util,r=n.closest,a=n.css,o=n.endsWith,h=n.noop,u=n.Transition;return{mixins:[i.parallax],computed:{item:function(){var i=t.getComponent(r(this.$el,".uk-"+e),e);return i&&r(this.$el,i.slidesSelector)}},events:[{name:"itemshown",self:!0,el:function(){return this.item},handler:function(){a(this.$el,this.getCss(.5))}},{name:"itemin itemout",self:!0,el:function(){return this.item},handler:function(t){var e=t.type,i=t.detail,n=i.percent,s=i.duration,r=i.timing,o=i.dir;u.cancel(this.$el),a(this.$el,this.getCss(d(e,o,n))),u.start(this.$el,this.getCss(c(e)?.5:o>0?1:0),s,r).catch(h)}},{name:"transitioncanceled transitionend",self:!0,el:function(){return this.item},handler:function(){u.cancel(this.$el)}},{name:"itemtranslatein itemtranslateout",self:!0,el:function(){return this.item},handler:function(t){var e=t.type,i=t.detail,n=i.percent,s=i.dir;u.cancel(this.$el),a(this.$el,this.getCss(d(e,s,n)))}}]};function c(t){return o(t,"in")}function d(t,e,i){return i/=2,c(t)?e<0?1-i:i:e<0?i:1-i}}(i,"slideshow")),i.component("slideshow",{mixins:[a.class,a.slideshow,function(t){var e=t.util.removeClass;return{update:[{write:function(){if(!this.stack.length&&!this.dragging){var t=this.getValidIndex();delete this.index,e(this.slides,this.clsActive,this.clsActivated),this.show(t)}},events:["load","resize"]}]}}(i)],props:{ratio:String,minHeight:Boolean,maxHeight:Boolean},defaults:{ratio:"16:9",minHeight:!1,maxHeight:!1,selList:".uk-slideshow-items",attrItem:"uk-slideshow-item",selNav:".uk-slideshow-nav",Animations:h},update:{read:function(){var t=this.ratio.split(":").map(Number),e=t[0],i=t[1];return i=i*this.$el.offsetWidth/e,this.minHeight&&(i=Math.max(this.minHeight,i)),this.maxHeight&&(i=Math.min(this.maxHeight,i)),{height:i}},write:function(t){var e=t.height;o(this.list,Math.floor(e))},events:["load","resize"]}})}}return"undefined"!=typeof window&&window.UIkit&&window.UIkit.use(r),r});