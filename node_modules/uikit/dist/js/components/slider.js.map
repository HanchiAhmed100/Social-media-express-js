{"version":3,"file":"slider","sources":["../../../src/js/mixin/internal/slideshow-animations.js","../../../src/js/components/internal/slider-transitioner.js","../../../src/js/components/slider.js"],"sourcesContent":["export default function (UIkit) {\n\n    var {css} = UIkit.util;\n\n    var Animations = {\n\n        slide: {\n\n            show(dir) {\n                return [\n                    {transform: translate(dir * -100)},\n                    {transform: translate()}\n                ];\n            },\n\n            percent(current) {\n                return Animations.translated(current);\n            },\n\n            translate(percent, dir) {\n                return [\n                    {transform: translate(dir * -100 * percent)},\n                    {transform: translate(dir * 100 * (1 - percent))}\n                ];\n            }\n\n        },\n\n        translated(el) {\n            return Math.abs(css(el, 'transform').split(',')[4] / el.offsetWidth) || 0;\n        }\n\n    };\n\n    return Animations;\n\n}\n\nexport function translate(value = 0, unit = '%') {\n    return `translate(${value}${value ? unit : ''}, 0)`; // currently not translate3d to support IE, translate3d within translate3d does not work while transitioning\n}\n\nexport function scale3d(value) {\n    return `scale3d(${value}, ${value}, 1)`;\n}\n","import { translate } from '../../mixin/internal/slideshow-animations';\n\nexport default function (UIkit) {\n\n    var {clamp, css, Deferred, noop, toNodes, Transition} = UIkit.util;\n\n    function Transitioner(prev, next, dir, {center, list}) {\n\n        var deferred = new Deferred();\n\n        var from = prev\n                ? Transitioner.getLeft(prev, list, center)\n                : Transitioner.getLeft(next, list, center) + next.offsetWidth * dir,\n            to = next\n                ? Transitioner.getLeft(next, list, center)\n                : from + prev.offsetWidth * dir;\n\n        if (prev && from === to) {\n            to += prev.offsetWidth;\n        }\n\n        return {\n\n            dir,\n\n            show(duration, percent = 0) {\n\n                duration *= this.getDistance() / list.offsetWidth;\n                duration -= duration * percent;\n\n                this.translate(percent);\n\n                Transition\n                    .start(list, {transform: translate(-to, 'px')}, duration, 'linear')\n                    .then(deferred.resolve, noop);\n\n                return deferred.promise;\n\n            },\n\n            stop() {\n                return Transition.stop(list);\n            },\n\n            cancel() {\n                Transition.cancel(list);\n            },\n\n            reset() {\n                css(list, 'transform', '');\n            },\n\n            forward(duration, percent = this.percent()) {\n                Transition.cancel(list);\n                return this.show(duration * list.offsetWidth / this.getDistance(), percent);\n            },\n\n            translate(percent) {\n\n                var distance = this.getDistance() * dir;\n\n                css(list, 'transform', translate(clamp(\n                    -to + (distance - distance * percent),\n                    -Transitioner.getWidth(list),\n                    list.offsetWidth\n                ), 'px'));\n\n            },\n\n            percent() {\n                return Math.abs((Number(css(list, 'transform').split(',')[4] || 0) + from) / (to - from));\n            },\n\n            getDistance() {\n                return Math.abs(to - from);\n            }\n\n        };\n\n    }\n\n    Transitioner.getLeft = function (el, list, center) {\n\n        return center\n            ? el.offsetLeft - Transitioner.center(el, list)\n            : Math.min(el.offsetLeft, Transitioner.getMax(list));\n\n    };\n\n    Transitioner.getMax = function (list) {\n        return Math.max(0, Transitioner.getWidth(list) - list.offsetWidth);\n    };\n\n    Transitioner.getWidth = function (list) {\n        return toNodes(list.children).reduce((right, el) => el.offsetWidth + right, 0);\n    };\n\n    Transitioner.getMaxWidth = function (list) {\n        return toNodes(list.children).reduce((right, el) => Math.max(right, el.offsetWidth), 0);\n    };\n\n    Transitioner.center = function (el, list) {\n        return list.offsetWidth / 2 - el.offsetWidth / 2;\n    };\n\n    return Transitioner;\n\n}\n","import TransitionerPlugin from './internal/slider-transitioner';\n\nfunction plugin(UIkit) {\n\n    if (plugin.installed) {\n        return;\n    }\n\n    var {mixin} = UIkit;\n    var {css, fastdom, trigger} = UIkit.util;\n    var Transitioner = TransitionerPlugin(UIkit);\n\n    UIkit.component('slider', {\n\n        mixins: [mixin.class, mixin.slideshow],\n\n        props: {\n            center: Boolean\n        },\n\n        defaults: {\n            selList: '.uk-slider-items',\n            attrItem: 'uk-slider-item',\n            center: false,\n            velocity: 1,\n            Transitioner\n        },\n\n        computed: {\n\n            maxIndex() {\n\n                if (!this.finite || this.center) {\n                    return this.length - 1;\n                }\n\n                var max = Transitioner.getMax(this.list), i = this.length;\n\n                while (i--) {\n                    if (this.list.children[i].offsetLeft < max) {\n                        return Math.min(i + 1, this.length - 1);\n                    }\n                }\n\n                return 0;\n            },\n\n            transitionOptions() {\n                return {\n                    center: this.center,\n                    list: this.list\n                };\n            },\n\n            finite({finite}) {\n                return finite || Transitioner.getWidth(this.list) < this.list.offsetWidth + Transitioner.getMaxWidth(this.list);\n            }\n\n        },\n\n        ready() {\n            fastdom.write(() => this.show(this.index));\n        },\n\n        update: {\n\n            write() {\n                this._resetComputeds();\n                trigger(this.slides[this.index], 'beforeitemshow');\n                this._translate(1);\n            },\n\n            events: ['load', 'resize']\n\n        },\n\n        events: [\n\n            {\n\n                name: 'beforeitemshow',\n\n                self: true,\n\n                delegate() {\n                    return `${this.selList} > *`;\n                },\n\n                handler(e) {\n\n                    var diff = Math.abs(this.index + (this.dir > 0\n                        ? this.index < this.prevIndex ? this.maxIndex : 0\n                        : this.index > this.prevIndex ? -this.maxIndex : 0\n                    ) - this.prevIndex);\n\n                    if (!this.dragging && diff > 1) {\n\n                        for (var i = 0; i < diff; i++) {\n                            this.stack.splice(1, 0, this.dir > 0 ? 'next' : 'previous');\n                        }\n\n                        e.preventDefault();\n                        return;\n                    }\n\n                    css(this.slides, 'order', '');\n\n                    if (!this.finite) {\n\n                        this.slides.forEach((slide, i) =>\n                            css(slide, 'order', this.dir > 0 && i < this.prevIndex\n                                ? 1\n                                : this.dir < 0 && i >= this.index\n                                    ? -1\n                                    : ''\n                            )\n                        );\n\n                        if (this.center) {\n\n                            var index = this.dir > 0 ? this.prevIndex : this.index,\n                                next = this.slides[index],\n                                width = this.list.offsetWidth / 2 - next.offsetWidth / 2,\n                                j = 0;\n\n                            while (width >= 0 || this.dir < 0 && this.slides[this.getIndex(j + index, index)].offsetWidth + width > 0) {\n                                var slideIndex = this.getIndex(--j + index, index),\n                                    slide = this.slides[slideIndex];\n\n                                css(slide, 'order', slideIndex > index ? -2 : -1);\n                                width -= slide.offsetWidth;\n                            }\n\n                        }\n\n                    }\n\n                }\n\n            }\n\n        ]\n\n    });\n\n}\n\nif (!BUNDLED && typeof window !== 'undefined' && window.UIkit) {\n    window.UIkit.use(plugin);\n}\n\nexport default plugin;\n"],"names":["this"],"mappings":"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"}