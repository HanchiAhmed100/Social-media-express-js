{"version":3,"file":"tooltip","sources":["../../../src/js/components/tooltip.js"],"sourcesContent":["function plugin(UIkit) {\n\n    if (plugin.installed) {\n        return;\n    }\n\n    var {util, mixin} = UIkit;\n    var {append, attr, doc, fastdom, flipPosition, includes, isTouch, isVisible, matches, on, pointerDown, pointerEnter, pointerLeave, remove, within} = util;\n\n    var actives = [];\n\n    UIkit.component('tooltip', {\n\n        attrs: true,\n\n        mixins: [mixin.togglable, mixin.position],\n\n        props: {\n            delay: Number,\n            title: String\n        },\n\n        defaults: {\n            pos: 'top',\n            title: '',\n            delay: 0,\n            animation: ['uk-animation-scale-up'],\n            duration: 100,\n            cls: 'uk-active',\n            clsPos: 'uk-tooltip'\n        },\n\n        connected() {\n            fastdom.write(() => attr(this.$el, {title: null, 'aria-expanded': false}));\n        },\n\n        disconnected() {\n            this.hide();\n        },\n\n        methods: {\n\n            show() {\n\n                if (includes(actives, this)) {\n                    return;\n                }\n\n                actives.forEach(active => active.hide());\n                actives.push(this);\n\n                this._unbind = on(doc, 'click', e => !within(e.target, this.$el) && this.hide());\n\n                clearTimeout(this.showTimer);\n\n                this.tooltip = append(UIkit.container, `<div class=\"${this.clsPos}\" aria-hidden><div class=\"${this.clsPos}-inner\">${this.title}</div></div>`);\n\n                attr(this.$el, 'aria-expanded', true);\n\n                this.positionAt(this.tooltip, this.$el);\n\n                this.origin = this.getAxis() === 'y' ? `${flipPosition(this.dir)}-${this.align}` : `${this.align}-${flipPosition(this.dir)}`;\n\n                this.showTimer = setTimeout(() => {\n\n                    this.toggleElement(this.tooltip, true);\n\n                    this.hideTimer = setInterval(() => {\n\n                        if (!isVisible(this.$el)) {\n                            this.hide();\n                        }\n\n                    }, 150);\n\n                }, this.delay);\n            },\n\n            hide() {\n\n                var index = actives.indexOf(this);\n\n                if (!~index || matches(this.$el, 'input') && this.$el === doc.activeElement) {\n                    return;\n                }\n\n                actives.splice(index, 1);\n\n                clearTimeout(this.showTimer);\n                clearInterval(this.hideTimer);\n                attr(this.$el, 'aria-expanded', false);\n                this.toggleElement(this.tooltip, false);\n                this.tooltip && remove(this.tooltip);\n                this.tooltip = false;\n                this._unbind();\n\n            }\n\n        },\n\n        events: {\n\n            [`focus ${pointerEnter} ${pointerDown}`](e) {\n                if (e.type !== pointerDown || !isTouch(e)) {\n                    this.show();\n                }\n            },\n\n            'blur': 'hide',\n\n            [pointerLeave](e) {\n                if (!isTouch(e)) {\n                    this.hide();\n                }\n            }\n\n        }\n\n    });\n\n}\n\nif (!BUNDLED && typeof window !== 'undefined' && window.UIkit) {\n    window.UIkit.use(plugin);\n}\n\nexport default plugin;\n"],"names":["this"],"mappings":"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"}