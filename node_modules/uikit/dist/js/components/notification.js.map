{"version":3,"file":"notification","sources":["../../../src/js/components/notification.js"],"sourcesContent":["function plugin(UIkit) {\n\n    if (plugin.installed) {\n        return;\n    }\n\n    var {append, closest, css, each, pointerEnter, pointerLeave, remove, toFloat, Transition, trigger} = UIkit.util;\n    var containers = {};\n\n    UIkit.component('notification', {\n\n        functional: true,\n\n        args: ['message', 'status'],\n\n        defaults: {\n            message: '',\n            status: '',\n            timeout: 5000,\n            group: null,\n            pos: 'top-center',\n            clsClose: 'uk-notification-close',\n            clsMsg: 'uk-notification-message'\n        },\n\n        created() {\n\n            if (!containers[this.pos]) {\n                containers[this.pos] = append(UIkit.container, `<div class=\"uk-notification uk-notification-${this.pos}\"></div>`);\n            }\n\n            var container = css(containers[this.pos], 'display', 'block');\n\n            this.$mount(append(container,\n                `<div class=\"${this.clsMsg}${this.status ? ` ${this.clsMsg}-${this.status}` : ''}\">\n                    <a href=\"#\" class=\"${this.clsClose}\" data-uk-close></a>\n                    <div>${this.message}</div>\n                </div>`\n            ));\n\n        },\n\n        ready() {\n\n            var marginBottom = toFloat(css(this.$el, 'marginBottom'));\n            Transition.start(\n                css(this.$el, {opacity: 0, marginTop: -1 * this.$el.offsetHeight, marginBottom: 0}),\n                {opacity: 1, marginTop: 0, marginBottom}\n            ).then(() => {\n                if (this.timeout) {\n                    this.timer = setTimeout(this.close, this.timeout);\n                }\n            });\n\n        },\n\n        events: {\n\n            click(e) {\n                if (closest(e.target, 'a[href=\"#\"]')) {\n                    e.preventDefault();\n                }\n                this.close();\n            },\n\n            [pointerEnter]() {\n                if (this.timer) {\n                    clearTimeout(this.timer);\n                }\n            },\n\n            [pointerLeave]() {\n                if (this.timeout) {\n                    this.timer = setTimeout(this.close, this.timeout);\n                }\n            }\n\n        },\n\n        methods: {\n\n            close(immediate) {\n\n                var removeFn = () => {\n\n                    trigger(this.$el, 'close', [this]);\n                    remove(this.$el);\n\n                    if (!containers[this.pos].children.length) {\n                        css(containers[this.pos], 'display', 'none');\n                    }\n\n                };\n\n                if (this.timer) {\n                    clearTimeout(this.timer);\n                }\n\n                if (immediate) {\n                    removeFn();\n                } else {\n                    Transition.start(this.$el, {\n                        opacity: 0,\n                        marginTop: -1 * this.$el.offsetHeight,\n                        marginBottom: 0\n                    }).then(removeFn);\n                }\n            }\n\n        }\n\n    });\n\n    UIkit.notification.closeAll = function (group, immediate) {\n        each(UIkit.instances, component => {\n            if (component.$options.name === 'notification' && (!group || group === component.group)) {\n                component.close(immediate);\n            }\n        });\n    };\n\n}\n\nif (!BUNDLED && typeof window !== 'undefined' && window.UIkit) {\n    window.UIkit.use(plugin);\n}\n\nexport default plugin;\n"],"names":["this"],"mappings":"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"}