{"version":3,"file":"sortable","sources":["../../../src/js/components/sortable.js"],"sourcesContent":["function plugin(UIkit) {\n\n    if (plugin.installed) {\n        return;\n    }\n\n    var {mixin, util} = UIkit;\n    var {addClass, after, assign, append, attr, before, closest, css, doc, docEl, height, fastdom, getPos, includes, index, isInput, noop, offset, off, on, pointerDown, pointerMove, pointerUp, position, preventClick, Promise, remove, removeClass, toggleClass, toNodes, Transition, trigger, win, within} = util;\n\n    UIkit.component('sortable', {\n\n        mixins: [mixin.class],\n\n        props: {\n            group: String,\n            animation: Number,\n            threshold: Number,\n            clsItem: String,\n            clsPlaceholder: String,\n            clsDrag: String,\n            clsDragState: String,\n            clsBase: String,\n            clsNoDrag: String,\n            clsEmpty: String,\n            clsCustom: String,\n            handle: String\n        },\n\n        defaults: {\n            group: false,\n            animation: 150,\n            threshold: 5,\n            clsItem: 'uk-sortable-item',\n            clsPlaceholder: 'uk-sortable-placeholder',\n            clsDrag: 'uk-sortable-drag',\n            clsDragState: 'uk-drag',\n            clsBase: 'uk-sortable',\n            clsNoDrag: 'uk-sortable-nodrag',\n            clsEmpty: 'uk-sortable-empty',\n            clsCustom: '',\n            handle: false\n        },\n\n        init() {\n            ['init', 'start', 'move', 'end'].forEach(key => {\n                var fn = this[key];\n                this[key] = e => {\n                    this.scrollY = win.scrollY;\n                    var {x, y} = getPos(e);\n                    this.pos = {x, y};\n\n                    fn(e);\n                };\n            });\n        },\n\n        events: {\n\n            [pointerDown]: 'init'\n\n        },\n\n        update: {\n\n            write() {\n\n                if (this.clsEmpty) {\n                    toggleClass(this.$el, this.clsEmpty, !this.$el.children.length);\n                }\n\n                if (!this.drag) {\n                    return;\n                }\n\n                offset(this.drag, {top: this.pos.y + this.origin.top, left: this.pos.x + this.origin.left});\n\n                var top = offset(this.drag).top,\n                    bottom = top + this.drag.offsetHeight,\n                    scroll;\n\n                if (top > 0 && top < this.scrollY) {\n                    scroll = this.scrollY - 5;\n                } else if (bottom < height(doc) && bottom > height(win) + this.scrollY) {\n                    scroll = this.scrollY + 5;\n                }\n\n                scroll && setTimeout(() => win.scrollTo(win.scrollX, scroll), 5);\n            }\n\n        },\n\n        methods: {\n\n            init(e) {\n\n                var {target, button, defaultPrevented} = e,\n                    placeholder = toNodes(this.$el.children).filter(el => within(target, el))[0];\n\n                if (!placeholder\n                    || isInput(e.target)\n                    || this.handle && !within(target, this.handle)\n                    || button > 0\n                    || within(target, `.${this.clsNoDrag}`)\n                    || defaultPrevented\n                ) {\n                    return;\n                }\n\n                e.preventDefault();\n\n                this.touched = [this];\n                this.placeholder = placeholder;\n                this.origin = assign({target, index: index(placeholder)}, this.pos);\n\n                on(docEl, pointerMove, this.move);\n                on(docEl, pointerUp, this.end);\n                on(win, 'scroll', this.scroll);\n\n                if (!this.threshold) {\n                    this.start(e);\n                }\n\n            },\n\n            start(e) {\n\n                this.drag = append(UIkit.container, this.placeholder.outerHTML.replace(/^<li/i, '<div').replace(/li>$/i, 'div>'));\n\n                css(this.drag, assign({\n                    boxSizing: 'border-box',\n                    width: this.placeholder.offsetWidth,\n                    height: this.placeholder.offsetHeight\n                }, css(this.placeholder, ['paddingLeft', 'paddingRight', 'paddingTop', 'paddingBottom'])));\n                attr(this.drag, 'uk-no-boot', '');\n                addClass(this.drag, this.clsDrag, this.clsCustom);\n\n                height(this.drag.firstElementChild, height(this.placeholder.firstElementChild));\n\n                var {left, top} = offset(this.placeholder);\n                assign(this.origin, {left: left - this.pos.x, top: top - this.pos.y});\n\n                addClass(this.placeholder, this.clsPlaceholder);\n                addClass(this.$el.children, this.clsItem);\n                addClass(docEl, this.clsDragState);\n\n                trigger(this.$el, 'start', [this, this.placeholder, this.drag]);\n\n                this.move(e);\n            },\n\n            move(e) {\n\n                if (!this.drag) {\n\n                    if (Math.abs(this.pos.x - this.origin.x) > this.threshold || Math.abs(this.pos.y - this.origin.y) > this.threshold) {\n                        this.start(e);\n                    }\n\n                    return;\n                }\n\n                this.$emit();\n\n                var target = e.type === 'mousemove' ? e.target : doc.elementFromPoint(this.pos.x - doc.body.scrollLeft, this.pos.y - doc.body.scrollTop),\n                    sortable = getSortable(target),\n                    previous = getSortable(this.placeholder),\n                    move = sortable !== previous;\n\n                if (!sortable || within(target, this.placeholder) || move && (!sortable.group || sortable.group !== previous.group)) {\n                    return;\n                }\n\n                target = sortable.$el === target.parentNode && target || toNodes(sortable.$el.children).filter(element => within(target, element))[0];\n\n                if (move) {\n                    previous.remove(this.placeholder);\n                } else if (!target) {\n                    return;\n                }\n\n                sortable.insert(this.placeholder, target);\n\n                if (!includes(this.touched, sortable)) {\n                    this.touched.push(sortable);\n                }\n\n            },\n\n            scroll() {\n                var scroll = win.scrollY;\n                if (scroll !== this.scrollY) {\n                    this.pos.y += scroll - this.scrollY;\n                    this.scrollY = scroll;\n                    this.$emit();\n                }\n            },\n\n            end(e) {\n\n                off(docEl, pointerMove, this.move);\n                off(docEl, pointerUp, this.end);\n                off(win, 'scroll', this.scroll);\n\n                if (!this.drag) {\n\n                    if (e.type !== 'mouseup' && within(e.target, 'a[href]')) {\n                        location.href = closest(e.target, 'a[href]').href;\n                    }\n\n                    return;\n                }\n\n                preventClick();\n\n                var sortable = getSortable(this.placeholder);\n\n                if (this === sortable) {\n                    if (this.origin.index !== index(this.placeholder)) {\n                        trigger(this.$el, 'moved', [this, this.placeholder]);\n                    }\n                } else {\n                    trigger(sortable.$el, 'added', [sortable, this.placeholder]);\n                    trigger(this.$el, 'removed', [this, this.placeholder]);\n                }\n\n                trigger(this.$el, 'stop', [this]);\n\n                remove(this.drag);\n                this.drag = null;\n\n                var classes = this.touched.map(sortable => `${sortable.clsPlaceholder} ${sortable.clsItem}`).join(' ');\n                this.touched.forEach(sortable => removeClass(sortable.$el.children, classes));\n\n                removeClass(docEl, this.clsDragState);\n\n            },\n\n            insert(element, target) {\n\n                addClass(this.$el.children, this.clsItem);\n\n                var insert = () => {\n\n                    if (target) {\n\n                        if (!within(element, this.$el) || isPredecessor(element, target)) {\n                            before(target, element);\n                        } else {\n                            after(target, element);\n                        }\n\n                    } else {\n                        append(this.$el, element);\n                    }\n\n                };\n\n                if (this.animation) {\n                    this.animate(insert);\n                } else {\n                    insert();\n                }\n\n            },\n\n            remove(element) {\n\n                if (!within(element, this.$el)) {\n                    return;\n                }\n\n                if (this.animation) {\n                    this.animate(() => remove(element));\n                } else {\n                    remove(element);\n                }\n\n            },\n\n            animate(action) {\n\n                var props = [],\n                    children = toNodes(this.$el.children),\n                    reset = {position: '', width: '', height: '', pointerEvents: '', top: '', left: '', bottom: '', right: ''};\n\n                children.forEach(el => {\n                    props.push(assign({\n                        position: 'absolute',\n                        pointerEvents: 'none',\n                        width: el.offsetWidth,\n                        height: el.offsetHeight\n                    }, position(el)));\n                });\n\n                action();\n\n                children.forEach(Transition.cancel);\n                css(this.$el.children, reset);\n                this.$update('update', true);\n                fastdom.flush();\n\n                css(this.$el, 'minHeight', height(this.$el));\n\n                var positions = children.map(el => position(el));\n                Promise.all(children.map((el, i) => Transition.start(css(el, props[i]), positions[i], this.animation)))\n                    .then(() => {\n                        css(this.$el, 'minHeight', '');\n                        css(children, reset);\n                        this.$update('update', true);\n                        fastdom.flush();\n                    }, noop);\n\n            }\n\n        }\n\n    });\n\n    function getSortable(element) {\n        return element && (UIkit.getComponent(element, 'sortable') || getSortable(element.parentNode));\n    }\n\n    function isPredecessor(element, target) {\n        return element.parentNode === target.parentNode && index(element) > index(target);\n    }\n\n}\n\nif (!BUNDLED && typeof window !== 'undefined' && window.UIkit) {\n    window.UIkit.use(plugin);\n}\n\nexport default plugin;\n"],"names":["this"],"mappings":"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"}